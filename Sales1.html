<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Devotee Momos | Executive Sales Command Center</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0b0e14;
            --card-bg: #161b22;
            --text: #c9d1d9;
            --accent: #f78166;
            --success: #3fb950;
            --danger: #f85149;
        }
        body { font-family: 'Poppins', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: var(--card-bg); border-radius: 12px; margin-bottom: 20px; border: 1px solid #30363d; }
        .header h1 { color: var(--accent); margin: 0; font-size: 22px; }

        /* KPI Grid */
        .kpi-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .kpi-card { background: var(--card-bg); padding: 20px; border-radius: 12px; border: 1px solid #30363d; position: relative; overflow: hidden; }
        .kpi-card::after { content: ""; position: absolute; left: 0; top: 0; height: 100%; width: 4px; background: var(--accent); }
        .kpi-label { font-size: 12px; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; }
        .kpi-value { font-size: 26px; font-weight: 600; margin: 5px 0; color: #fff; }
        .kpi-trend { font-size: 12px; color: var(--success); }

        /* Main Dashboard Layout */
        .main-grid { display: grid; grid-template-columns: 2fr 1fr; grid-template-rows: auto auto auto; gap: 20px; }
        .chart-container { background: var(--card-bg); border-radius: 12px; padding: 20px; border: 1px solid #30363d; }
        .full-width { grid-column: span 2; }
        h2 { font-size: 16px; font-weight: 400; margin-top: 0; color: #f0f6fc; display: flex; align-items: center; gap: 10px; }
        h2::before { content: "ðŸ“Š"; }
    </style>
</head>
<body>

    <div class="header">
        <h1>DEVOTEE MOMOS | PERFORMANCE INSIGHTS</h1>
        <div style="font-size: 13px;">Reporting Period: <b>Nov 2025 - Jan 2026</b></div>
    </div>

    <div class="kpi-row">
        <div class="kpi-card">
            <div class="kpi-label">Total Revenue</div>
            <div class="kpi-value">â‚¹5.2L</div>
            <div class="kpi-trend">â†‘ 12% vs Prev Month</div>
        </div>
        <div class="kpi-card" style="--accent: #3fb950">
            <div class="kpi-label">Net Profit</div>
            <div class="kpi-value">â‚¹8,960</div>
            <div class="kpi-trend">â†‘ 4.2% Margin</div>
        </div>
        <div class="kpi-card" style="--accent: #f85149">
            <div class="kpi-label">Wastage Loss</div>
            <div class="kpi-value">â‚¹50,190</div>
            <div class="kpi-trend" style="color:var(--danger)">High Priority Alert</div>
        </div>
        <div class="kpi-card" style="--accent: #d2a8ff">
            <div class="kpi-label">Customer Loyalty</div>
            <div class="kpi-value">23.6%</div>
            <div class="kpi-trend">Repeat Rate</div>
        </div>
        <div class="kpi-card" style="--accent: #58a6ff">
            <div class="kpi-label">Peak Sales</div>
            <div class="kpi-value">3,423</div>
            <div class="kpi-trend">Units during 7-9 PM</div>
        </div>
    </div>

    <div class="main-grid">
        <div class="chart-container full-width">
            <h2>Financial Performance (Revenue vs. Wastage)</h2>
            <div id="financialTrend"></div>
        </div>

        <div class="chart-container">
            <h2>Product Demand Distribution</h2>
            <div id="productHeatmap"></div>
        </div>

        <div class="chart-container">
            <h2>Weather Impact on Order Volume</h2>
            <div id="weatherImpact"></div>
        </div>

        <div class="chart-container">
            <h2>Waiting Time vs. Customer Satisfaction</h2>
            <div id="waitEfficiency"></div>
        </div>

        <div class="chart-container">
            <h2>Sales by Day Classification</h2>
            <div id="dayBreakdown"></div>
        </div>
    </div>

    <script>
        const darkLayout = {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#8b949e', family: 'Poppins' },
            margin: { t: 30, b: 40, l: 40, r: 20 },
            xaxis: { gridcolor: '#30363d', zeroline: false },
            yaxis: { gridcolor: '#30363d', zeroline: false }
        };

        // 1. Financial Trend (Area Chart)
        Plotly.newPlot('financialTrend', [
            { x: ['W1','W2','W3','W4','W5','W6','W7','W8'], y: [1700, 1800, 1950, 2100, 2300, 2450, 2600, 2400], fill: 'tozeroy', name: 'Raw Material Cost', type: 'scatter', line: {color: '#58a6ff'} },
            { x: ['W1','W2','W3','W4','W5','W6','W7','W8'], y: [750, 1000, 800, 850, 950, 1100, 1200, 900], fill: 'tozeroy', name: 'Wastage Cost', type: 'scatter', line: {color: '#f85149'} }
        ], { ...darkLayout, height: 300 });

        // 2. Product Mix (Donut)
        Plotly.newPlot('productHeatmap', [{
            values: [1806, 2060, 753, 649],
            labels: ['Veg', 'Chicken', 'Cheese', 'Crispy'],
            type: 'pie', hole: 0.6,
            marker: { colors: ['#f78166', '#3fb950', '#d2a8ff', '#58a6ff'] }
        }], { ...darkLayout, showlegend: true, height: 300 });

        // 3. Weather Impact (Bar)
        Plotly.newPlot('weatherImpact', [
            { x: ['Sunny/Normal', 'Rainy'], y: [102, 87], type: 'bar', marker: {color: ['#f78166', '#58a6ff']} }
        ], { ...darkLayout, height: 300 });

        // 4. Wait Time (Scatter)
        Plotly.newPlot('waitEfficiency', [
            { x: [6,7,8,9,10,11,12], y: [95, 90, 85, 70, 60, 50, 45], mode: 'lines+markers', name: 'Satisfaction Score', line: {color: '#3fb950'} }
        ], { ...darkLayout, xaxis: {title: 'Wait Time (Min)'}, height: 300 });

        // 5. Day Breakdown
        Plotly.newPlot('dayBreakdown', [
            { labels: ['Weekday', 'Weekend', 'Holiday'], values: [95, 104, 146], type: 'pie', pull: [0, 0, 0.1] }
        ], { ...darkLayout, height: 300 });
    </script>
</body>
</html>